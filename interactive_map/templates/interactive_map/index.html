{% extends "main/base.html" %}
{% block content %}
	<div>
      <a class="btn btn-primary mt-1 mb-1" href="{% url 'imap-index' 3 %}" role="button">All</a>
      <a class="btn btn-primary mt-1 mb-1" href="{% url 'imap-index' 1 %}" role="button">Event</a>
      <a class="btn btn-primary mt-1 mb-1" href="{% url 'imap-index' 2 %}" role="button">Place</a>
  	</div>
	{% for suggestion in suggestions %}
		<article class="media content-section">
		  <div class="media-body">
		    <div class="article-metadata">
		      <a class="mr-2" href="#">{{ suggestion.desc }}</a>
		      <small class="text-muted">{{ suggestion.date_posted|date:"F d, Y" }}</small>
		      <div>
			      <a class="btn btn-secondary btn-sm mt-1 mb-1" href="{% url 'suggestion-update' suggestion.id %}" role="button">Edit</a>
			      <a class="btn btn-outline-danger btn-sm mt-1 mb-1" href="{% url 'suggestion-delete' suggestion.id %}" role="button">Delete</a>
		  	  </div>
		    </div>
		    
		    {% if suggestion.cud == 1 %}
		    		Create
	    	{% elif suggestion.cud == 2 %}
	    		Update
	    	{% else %}
	    		Delete
	    	{% endif %}

	    	{% if suggestion.stype == 1 %}
	    		Event
	    	{% else %}
	    		Place
	    	{% endif %} <br>

		    {% if suggestion.cud == 2 %}
		    	Previous Name: {{ suggestion.prev_name }} <br>
		    {% endif %}
		    	
		    Name: {{ suggestion.name }} <br>

		    {% if suggestion.cud == 2 %}
	    		Previous Coordinates: [{{ suggestion.prev_latitude }}, {{ suggestion.prev_longitude }}] <br>
	    	{% endif %}

		    Coordinates: [{{ suggestion.latitude }}, {{ suggestion.longitude }}]
		  </div>
		</article>
	{% endfor %}

	<div class="container">
		<div class="row">
			<div class="col-sm">

				<a class="btn btn-primary btn-lg" href="{% url 'suggestion-create' %}" role="button">Add Suggestion</a>

			</div>
			<div class="col-sm"></div>
			<div class="col-sm-left">
				{% if is_paginated %}

					{% if page_obj.has_previous %}
						<a class="btn btn-outline-info mb-4" href="?page=1">First</a>
						<a class="btn btn-outline-info mb-4" href="?page={{ page_obj.previous_page_number }}">Previous</a>
					{% endif %}

					{% for num in page_obj.paginator.page_range %}
						{% if page_obj.number == num %}
							<a class="btn btn-info mb-4" href="?page={{ num }}">{{ num }}</a>
						{% elif  num > page_obj.number|add:'-3' and num < page_obj.number|add:'3'%}
							<a class="btn btn-outline-info mb-4" href="?page={{ num }}">{{ num }}</a>
						{% endif %}
					{% endfor %}

					{% if page_obj.has_next %}
						<a class="btn btn-outline-info mb-4" href="?page={{ page_obj.next_page_number }}">Next</a>
						<a class="btn btn-outline-info mb-4" href="?page={{ page_obj.paginator.num_pages }}">Last</a>
					{% endif %}

				{% endif %}
			</div>
		</div>
	</div>
{% endblock content %}